(this["webpackJsonpshorturl-frontend"]=this["webpackJsonpshorturl-frontend"]||[]).push([[0],{12:function(t,n,e){},15:function(t,n,e){"use strict";e.r(n);var r=e(1),c=e.n(r),o=e(6),i=e.n(o),a=(e(12),e(2)),s=e(5),u=e.n(s),h=e(7),l="/api/shorturls";function j(){var t=new URL(window.location.href);return"".concat(t.protocol,"//").concat(t.host).concat("/s","/")}function d(){return(d=Object(h.a)(u.a.mark((function t(n,e,r){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(c=new Headers).append("content-type","application/json"),t.abrupt("return",fetch(l,{method:"POST",body:JSON.stringify({url:n}),headers:c}).then(g).then((function(t){return p(t)})).then((function(t){t.error?r(t.message):e("".concat(j()).concat(t.hash))})).catch((function(t){r(t.message)})));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){if(t.status>=200&&t.status<300)return t;throw new Error("HTTP Error: ".concat(t.status," ").concat(t.statusText))}function p(t){return t.json()}var b,f=e(3),O=e.n(f),S=e(0);!function(t){t[t.EnteringUrl=0]="EnteringUrl",t[t.Pending=1]="Pending",t[t.ShowingShortUrl=2]="ShowingShortUrl",t[t.ShowingError=3]="ShowingError"}(b||(b={}));var w=function(){var t=Object(r.useState)(b.EnteringUrl),n=Object(a.a)(t,2),e=n[0],c=n[1],o=Object(r.useState)(""),i=Object(a.a)(o,2),s=i[0],u=i[1],h=Object(r.useState)(""),l=Object(a.a)(h,2),j=l[0],g=l[1],p=Object(r.useState)(""),f=Object(a.a)(p,2),w=f[0],x=f[1];return Object(S.jsx)("div",{className:O.a.app,children:Object(S.jsxs)("div",{className:O.a.widget,children:[e===b.EnteringUrl&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("label",{children:"Enter a long URL"}),Object(S.jsx)("input",{value:w,type:"url",placeholder:"http://www.example.com",onChange:function(t){return x(t.target.value)},required:!0}),Object(S.jsx)("button",{onClick:function(){w&&(!function(t,n,e){d.apply(this,arguments)}(w,(function(t){u(t),c(b.ShowingShortUrl)}),(function(t){g(t),c(b.ShowingError)})),c(b.Pending))},children:"Shorten"})]}),e===b.ShowingShortUrl&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("label",{children:"Short URL"}),Object(S.jsx)("input",{value:s,onClick:function(t){return t.target.select()},readOnly:!0}),Object(S.jsx)("button",{onClick:function(){return c(b.EnteringUrl)},children:"Shorten another"})]}),e===b.Pending&&Object(S.jsx)("div",{children:"Shortening"}),e===b.ShowingError&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:O.a.error,children:j}),Object(S.jsx)("button",{onClick:function(){return c(b.EnteringUrl)},children:"Try again"})]})]})})},x=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,16)).then((function(n){var e=n.getCLS,r=n.getFID,c=n.getFCP,o=n.getLCP,i=n.getTTFB;e(t),r(t),c(t),o(t),i(t)}))};i.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(w,{})}),document.getElementById("root")),x()},3:function(t,n,e){t.exports={app:"App_app__2ziFi",widget:"App_widget__t52s3",error:"App_error__1LS0k"}}},[[15,1,2]]]);
//# sourceMappingURL=main.18914aa7.chunk.js.map