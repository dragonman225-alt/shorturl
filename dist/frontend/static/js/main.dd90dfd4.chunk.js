(this["webpackJsonpshorturl-frontend"]=this["webpackJsonpshorturl-frontend"]||[]).push([[0],{13:function(n,t,e){},16:function(n,t,e){"use strict";e.r(t);var r=e(1),c=e.n(r),o=e(6),i=e.n(o),a=(e(13),e(2)),s=e(5),u=e.n(s),l=e(7),h="/api/shorturls";function j(){var n=new URL(window.location.href);return"".concat(n.protocol,"//").concat(n.host).concat("/s","/")}function d(){return(d=Object(l.a)(u.a.mark((function n(t,e,r){var c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(c=new Headers).append("content-type","application/json"),n.abrupt("return",fetch(h,{method:"POST",body:JSON.stringify({url:t}),headers:c}).then(g).then((function(n){return p(n)})).then((function(n){n.error?r(n.message):e("".concat(j()).concat(n.hash))})).catch((function(n){r(n.message)})));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){if(n.status>=200&&n.status<300)return n;throw new Error("HTTP Error: ".concat(n.status," ").concat(n.statusText))}function p(n){return n.json()}var b=e(3),f=e.n(b),O=e(8),S=e.n(O),w=e(0);function x(n){var t=n.onClick,e=n.children;return Object(w.jsx)("button",{className:S.a.button,onClick:t,children:e})}var m,v=c.a.memo(x);!function(n){n[n.EnteringUrl=0]="EnteringUrl",n[n.Pending=1]="Pending",n[n.ShowingShortUrl=2]="ShowingShortUrl",n[n.ShowingError=3]="ShowingError"}(m||(m={}));var E=function(){var n=Object(r.useState)(m.EnteringUrl),t=Object(a.a)(n,2),e=t[0],c=t[1],o=Object(r.useState)(""),i=Object(a.a)(o,2),s=i[0],u=i[1],l=Object(r.useState)(""),h=Object(a.a)(l,2),j=h[0],g=h[1],p=Object(r.useState)(""),b=Object(a.a)(p,2),O=b[0],S=b[1];return Object(w.jsx)("div",{className:f.a.app,children:Object(w.jsxs)("div",{className:f.a.widget,children:[e===m.EnteringUrl&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("label",{children:"Enter a long URL"}),Object(w.jsx)("input",{value:O,type:"url",placeholder:"http://www.example.com",onChange:function(n){return S(n.target.value)},required:!0}),Object(w.jsx)(v,{onClick:function(){O&&(!function(n,t,e){d.apply(this,arguments)}(O,(function(n){u(n),c(m.ShowingShortUrl)}),(function(n){g(n),c(m.ShowingError)})),c(m.Pending))},children:"Shorten"})]}),e===m.ShowingShortUrl&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("label",{children:"Short URL"}),Object(w.jsx)("input",{value:s,onClick:function(n){return n.target.select()},readOnly:!0}),Object(w.jsx)(v,{onClick:function(){return c(m.EnteringUrl)},children:"Shorten another"})]}),e===m.Pending&&Object(w.jsx)("div",{children:"Shortening"}),e===m.ShowingError&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:f.a.error,children:j}),Object(w.jsx)(v,{onClick:function(){return c(m.EnteringUrl)},children:"Try again"})]})]})})},U=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,17)).then((function(t){var e=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;e(n),r(n),c(n),o(n),i(n)}))};i.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(E,{})}),document.getElementById("root")),U()},3:function(n,t,e){n.exports={app:"App_app__2ziFi",widget:"App_widget__t52s3",error:"App_error__1LS0k"}},8:function(n,t,e){}},[[16,1,2]]]);
//# sourceMappingURL=main.dd90dfd4.chunk.js.map